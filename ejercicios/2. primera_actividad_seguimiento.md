
# Agenda de Contactos

Esta aplicación de práctica consiste en una agenda de contactos sencilla para reforzar conceptos de POO en Python. La aplicación permite gestionar contactos con las siguientes características:

* Agregar un contacto con nombre, correo electrónico y categoría (por ejemplo: Familia, Amigos, Trabajo).
  El sistema debe asignar un identificador único a cada contacto.
* Listar todos los contactos.
* Agregar **números de teléfono** a un contacto.
* Listar todos los contactos de una cierta categoría.
* Eliminar un contacto por su identificador.
* Mostrar la categoría con más contactos.
* (Opcional) Buscar contactos por nombre o parte del nombre.

Tu tarea es implementar las clases del modelo en el archivo correspondiente (por ejemplo `src/contacts.py`) y las clases de la interfaz de usuario en otro archivo (por ejemplo `src/console_contacts.py`).

Considera los siguientes aspectos para la implementación:

## 1. Clase `Contact`

* La clase debe tener los siguientes atributos de instancia:

  * `id` de tipo `int`, inicializado con un parámetro en el constructor.
  * `name` de tipo `str`, inicializado con un parámetro en el constructor.
  * `email` de tipo `str`, inicializado con un parámetro en el constructor.
  * `category` de tipo `str`, inicializado con un parámetro en el constructor (por ejemplo, categorías como "Familia", "Trabajo", "Amigos", etc.).
  * `phone_numbers` de tipo `list[str]`. Este atributo **no** se inicializa por parámetro; su valor por defecto debe ser una lista vacía (ningún teléfono al inicio).

* La clase debe tener un método de instancia `add_phone` que recibe un número de teléfono (str) y lo agrega al atributo `phone_numbers` del contacto.
  Si el número ya existe en la lista de teléfonos, el método no debe duplicarlo (puedes validar antes de agregar).

* La clase debe tener un método de instancia `__str__` que retorne un `str` con un formato legible que incluya al menos el nombre y correo del contacto, por ejemplo:

  ```python
  {name} - {email} ({category})
  ```

  Opcionalmente puedes incluir también los teléfonos en el string si lo consideras adecuado para mostrar al listar.

## 2. Clase `ContactBook` (o `AddressBook`)

* La clase debe tener un atributo `contacts` de tipo `list[Contact]`, inicializado como lista vacía por defecto (sin parámetro en el constructor).

* La clase debe tener un método de instancia `add_contact` que recibe `name` (str), `email` (str) y `category` (str). El método debe:

  * Generar un nuevo **id** único para el contacto (entero mayor que 0, por ejemplo usando `len(self.contacts) + 1` asegurando no reutilizar IDs eliminados).
  * Crear un objeto `Contact` con los datos proporcionados y el id generado.
  * Agregar el nuevo contacto a la lista `contacts`.
  * Devolver el id asignado al nuevo contacto.

* La clase debe tener un método de instancia `delete_contact` que recibe un `id` (int) y elimina de la lista `contacts` el contacto que tenga ese identificador.

* La clase debe tener un método de instancia `contacts_by_category` que recibe un `category` (str) y devuelve una `list[Contact]` con todos los contactos cuya categoría coincida con la categoría dada.

* La clase debe tener un método de instancia `category_with_most_contacts` que devuelve un `str` correspondiente a la categoría en la que existe el mayor número de contactos registrados.
  En caso de haber empate en el número de contactos entre varias categorías, retornar la categoría que sea primera en orden alfabético.

* *(Opcional avanzado)* Puedes implementar un método de instancia `search_by_name` que recibe una cadena de búsqueda (str) y devuelve una `list[Contact]` con los contactos cuyo nombre contenga dicha cadena (sin distinguir mayúsculas/minúsculas). Este método permitiría implementar la funcionalidad de búsqueda por nombre en el menú.

## 3. Interfaz de usuario por consola

La interfaz de usuario debe presentar un menú con las siguientes opciones:

1. **Agregar contacto** – Solicita al usuario el nombre, correo electrónico y categoría para un nuevo contacto. Utiliza `add_contact` de `ContactBook`. Muestra el id único generado para el nuevo contacto.
2. **Listar contactos** – Muestra todos los contactos en la agenda. Puedes formatear cada contacto usando `__str__` de `Contact`. Si decides no mostrar los teléfonos en `__str__`, podrías listarlos aparte en esta opción.
3. **Agregar teléfono a contacto** – Pide al usuario el id de un contacto existente y un número de teléfono a agregar. Utiliza el método `add_phone` del contacto correspondiente. Si el contacto ya tiene ese número registrado, evita duplicarlo y avisa al usuario.
4. **Listar contactos por categoría** – Solicita una categoría al usuario (por ejemplo "Familia", "Trabajo", etc.) y muestra todos los contactos que pertenecen a dicha categoría (usar `contacts_by_category`).
5. **Eliminar contacto** – Pide al usuario el id de un contacto y, si existe, lo elimina de la agenda usando `delete_contact`.
6. **Mostrar categoría con más contactos** – Muestra el nombre de la categoría que tiene más contactos registrados (usar `category_with_most_contacts`).
7. **Buscar contacto por nombre** *(opcional)* – Pide al usuario ingresar un texto y muestra todos los contactos cuyo nombre contenga ese texto (usar `search_by_name`). Esta opción es opcional; impleméntala solo si has creado el método correspondiente.
8. **Salir** – Termina la aplicación.

Al igual que en el ejercicio anterior, cada funcionalidad debería implementarse en métodos separados dentro de la clase de la interfaz de usuario. El programa principal debe permanecer en un ciclo mostrando el menú y reaccionando a las elecciones del usuario hasta que se seleccione "Salir".

## 4. Script principal

Crear un archivo ejecutable `main.py` que importe la clase de interfaz (por ejemplo, `ContactConsole` si la definiste) y ejecute el menú principal. Este script debe crear una instancia de `ContactBook` y de la interfaz de consola, luego llamar al método encargado de iniciar el menú interactivo para que el usuario pueda realizar operaciones sobre la agenda de contactos.

---

