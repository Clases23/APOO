```python
# =========================
# A) LIST COMPREHENSION
# =========================

# A1) cuadrados_pares
def cuadrados_pares(nums: list[int]) -> list[int]:
    return [n * n for n in nums if n % 2 == 0]


# A2) longitudes_filtradas
def longitudes_filtradas(palabras: list[str]) -> list[int]:
    return [len(p) for p in palabras if len(p) >= 3]


# A3) primeras_no_vacias
def primeras_no_vacias(items: list[str]) -> list[str]:
    return [s[0] for s in items if s]


# A4) aplanar_matriz
def aplanar_matriz(m: list[list[int]]) -> list[int]:
    return [x for fila in m for x in fila]


# A5) producto_cartesiano_par
def producto_cartesiano_par(a: int, b: int) -> list[tuple[int, int]]:
    return [(i, j) for i in range(a) for j in range(b) if (i + j) % 2 == 0]


# A6) escalar_desplazar
def escalar_desplazar(xs: list[float], factor: float, bias: float) -> list[float]:
    return [x * factor + bias for x in xs]


# A7) aprobados_nombres
def aprobados_nombres(alumnos: list[dict[str, object]], umbral: float) -> list[str]:
    return [
        a["nombre"]  # type: ignore[index]
        for a in alumnos
        if ("notas" in a and len(a["notas"]) > 0 and (sum(a["notas"]) / len(a["notas"])) >= umbral)  # type: ignore[index]
        or ("notas" in a and len(a["notas"]) == 0 and 0.0 >= umbral)  # caso listas vacias (promedio=0.0)
    ]


# A8) totales_con_descuento
def totales_con_descuento(items: list[tuple[float, float]]) -> list[float]:
    return [precio * (1 - desc) for (precio, desc) in items if desc > 0.0]


# =========================
# B) DICT COMPREHENSION
# =========================

# B1) longitud_por_palabra
def longitud_por_palabra(palabras: list[str]) -> dict[str, int]:
    return {p.lower(): len(p) for p in palabras if len(p) >= 3}


# B2) cuadrados_unicos
def cuadrados_unicos(nums: list[int]) -> dict[int, int]:
    return {n: n * n for n in {x for x in nums}}


# B3) invertir_sin_colisiones
def invertir_sin_colisiones(d: dict[str, int]) -> dict[int, str]:
    # conteo de valores
    conteo_val: dict[int, int] = {v: sum(1 for x in d.values() if x == v) for v in {x for x in d.values()}}
    # invertimos solo si el valor aparece una sola vez
    return {v: k for (k, v) in d.items() if conteo_val[v] == 1}


# B4) frecuencia_letras
def frecuencia_letras(texto: str) -> dict[str, int]:
    letras: list[str] = [ch for ch in texto.lower() if "a" <= ch <= "z"]
    unicas: set[str] = {c for c in letras}
    return {l: sum(1 for c in letras if c == l) for l in sorted(unicas)}


# B5) indice_por_inicial
def indice_por_inicial(palabras: list[str]) -> dict[str, list[str]]:
    iniciales: set[str] = {p[0].lower() for p in palabras if p}
    return {ini: sorted([p for p in palabras if p and p[0].lower() == ini]) for ini in iniciales}


# B6) promedio_por_estudiante
def promedio_por_estudiante(registro: dict[str, list[float]]) -> dict[str, float]:
    return {nombre: (round(sum(notas) / len(notas), 2) if len(notas) > 0 else 0.0) for (nombre, notas) in registro.items()}


# B7) desde_claves_valores
def desde_claves_valores(keys: list[str], vals: list[str]) -> dict[str, str]:
    n = len(keys) if len(keys) < len(vals) else len(vals)
    return {keys[i]: vals[i] for i in range(n)}


# B8) clasificar_caracteres
def clasificar_caracteres(s: str) -> dict[str, str]:
    def categoria(ch: str) -> str:
        c = ch.lower()
        return "vocal" if c in "aeiou" else ("consonante" if "a" <= c <= "z" else "otro")
    return { (c.lower() if ("A" <= c <= "Z" or "a" <= c <= "z") else c): categoria(c) for c in s }


# =========================
# C) RETOS COMBINADOS
# =========================

# C1) agrupacion_por_paridad
def agrupacion_por_paridad(nums: list[int]) -> dict[str, list[int]]:
    pares_2 = sorted([n * n for n in nums if n % 2 == 0])
    impares_2 = sorted([n * n for n in nums if n % 2 != 0])
    return {"even": pares_2, "odd": impares_2}


# C2) adjacency_desde_aristas
def adjacency_desde_aristas(edges: list[tuple[int, int]]) -> dict[int, list[int]]:
    nodos: set[int] = {x for a, b in edges for x in (a, b)}
    return {
        u: sorted({(b if a == u else a) for (a, b) in edges if a == u or b == u})
        for u in nodos
    }


# C3) resumen_palabras
def resumen_palabras(frases: list[str]) -> dict[str, float]:
    total: int = sum(len(f.split()) for f in frases)
    unicas: int = len({w.lower() for f in frases for w in f.split()})
    promedio: float = (total / len(frases)) if len(frases) > 0 else 0.0
    return {"total_palabras": float(total), "unicas": float(unicas), "promedio_por_frase": promedio}
```